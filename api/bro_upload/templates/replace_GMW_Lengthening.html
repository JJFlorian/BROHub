<ns:replaceRequest xmlns:ns="http://www.broservices.nl/xsd/isgmw/1.1"
    xmlns:ns1="http://www.broservices.nl/xsd/brocommon/3.0"
    xmlns:ns2="http://www.broservices.nl/xsd/gmwcommon/1.1"
    xmlns:ns3="http://www.opengis.net/gml/3.2">
    <ns1:requestReference>{{ metadata.requestReference }}</ns1:requestReference>
    <ns1:deliveryAccountableParty>{{ metadata.deliveryAccountableParty }}</ns1:deliveryAccountableParty>
    <ns1:broId>{{ metadata.broId }}</ns1:broId>
    <ns1:qualityRegime>{{ metadata.qualityRegime }}</ns1:qualityRegime>
    <ns1:underPrivilege>{{ metadata.underPrivilege }}</ns1:underPrivilege>
    <ns:correctionReason codeSpace="urn:bro:gmw:CorrectionReason">{{ metadata.correctionReason }}</ns:correctionReason>
    <ns:sourceDocument>
        <ns:GMW_Lengthening>
            <ns:eventDate>
                <ns1:date>{{ sourcedocs_data.eventDate }}</ns1:date>
            </ns:eventDate>
{%          if sourcedocs_data.wellHeadProtector %}
            <ns:wellHeadProtector codeSpace="urn:bro:gmw:WellHeadProtector">{{ sourcedocs_data.wellHeadProtector }}</ns:wellHeadProtector>
{%          endif %}
            <ns:numberOfTubesLengthened>{{ sourcedocs_data.monitoringTubes | length }}</ns:numberOfTubesLengthened>
{%          for monitoringtube in sourcedocs_data.monitoringTubes %}
            <ns:monitoringTube>
                <ns:tubeNumber>{{ monitoringtube.tubeNumber }}</ns:tubeNumber>
                <ns:variableDiameter>{{ monitoringtube.variableDiameter }}</ns:variableDiameter>
                <ns:tubeStatus codeSpace="urn:bro:gmw:TubeStatus">{{ monitoringtube.tubeStatus }}</ns:tubeStatus>
                <ns:tubeTopPosition uom="m">{{ monitoringtube.tubeTopPosition }}</ns:tubeTopPosition>
                <ns:tubeTopPositioningMethod codeSpace="urn:bro:gmw:TubeTopPositioningMethod">{{ monitoringtube.tubeTopPositioningMethod }}</ns:tubeTopPositioningMethod>
                <ns:tubeMaterial codeSpace="urn:bro:gmw:TubeMaterial">{{ monitoringtube.tubeMaterial }}</ns:tubeMaterial>
                <ns:glue codeSpace="urn:bro:gmw:Glue">{{ monitoringtube.glue }}</ns:glue>
                <ns:plainTubePartLength uom="m">{{ monitoringtube.plainTubePartLength }}</ns:plainTubePartLength>
            </ns:monitoringTube>
{%          endfor %}
        </ns:GMW_Lengthening>
    </ns:sourceDocument>
</ns:replaceRequest>
